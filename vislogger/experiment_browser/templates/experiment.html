<html>

<head>

    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='custom.css') }}"/>
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>


    <title>TRIXI - Comparing experiments</title>
</head>


<body>

<h2>Config</h2>


{% set exps = config["exps"] %}
{% set configs = config["configs"] %}
{% set ckeys = config["ckeys"] %}


<table class="ctable">


    <colgroup class="ctable cgroupstart"></colgroup>
    {% for exp in exps %}
    <colgroup class="cgroup"></colgroup>
    {% endfor %}

    <thead class="ctable">
    <tr class="ctable">
        <th class="ctable">&nbsp;</th>

        {% for exp in exps %}

        <th class="ctable">
            <h2>{{exp}}</h2>
        </th>

        {% endfor %}

    </tr>
    </thead>

    <tbody class="ctable">

    {% for k in ckeys %}

    <tr class="ctable">
        <th class="ctable">{{k}}</th>

        {% for val in configs[k] %}
        <td class="ctable">{{val}}</td>
        {% endfor %}

    </tr>

    {% endfor %}

    </tbody>

</table>


<hr>


<!--<div class="container-fluid">-->
<!--<a role="button" class="btn btn-light go-back"><i class="fas fa-arrow-left"></i></a><br/>-->
<!--{% for t in title %}-->
<!--<h3>{{ t }}</h3>-->
<!--{% endfor %}-->
<!--</div>-->

<!--<hr>-->
<!--{% for graph in graphs %} {{ graph }} {% endfor %}-->


<!-- Slideshow container -->

<h2>Images</h2>

<label class="switch">
    <input type="checkbox" onchange="alignImages()" id="imageAlignButton">
    <span class="slider round"></span>
</label>
<p>Align</p>


{% set imgs = images["imgs"] %}
{% set img_keys = images["img_keys"] %}
{% set img_path = images["img_path"] %}

{% for exps in imgs %}

{% set exp_imgs = imgs[exps] %}


<h3>{{ exps }}</h3>


<div style="overflow-x: scroll; white-space:nowrap;">
    {% for group_key in img_keys %}
    {% if group_key in exp_imgs %}

    {% set group = group_key %}
    {% set img_group = exp_imgs[group_key]%}


    <div style="width:25%; display: inline-block; margin: 20px;" id="{{exps}}-{{group}}">
        <div class="slideshow-container">

            {% for img in img_group %}
            <div class="mySlides">
                <div class="numbertext">{{ loop.index }} / {{ loop.length }}</div>
                <img class="lazyimg" src="" lazysrc="{{ img }}" style="width:100%" alt="{{ img }}" title="{{ img }}">
                <div class="text">{{ group }}</div>
            </div>
            {% endfor %}


            <!-- Next and previous buttons -->
            <a class="prev" onclick="plusSlides('{{exps}}-{{group}}' ,-1)">&#10094;</a>
            <a class="next" onclick="plusSlides('{{exps}}-{{group}}' , 1)">&#10095;</a>
        </div>
        <div>
            <p style="text-align:center;">
                <input class="number" type="number" value="1" min="1" max="{{img_group|length}}"
                       onchange="numberChange('{{exps}}-{{group}}')"
                       style="width:25%"> /
                {{img_group|length}}
            </p>
        </div>
        <!--&lt;!&ndash; The dots/circles &ndash;&gt;-->
        <div style="text-align:center; overflow-x: scroll; white-space:nowrap;">
            {% for img in img_group %}
            <span class="dot" onclick="currentSlide('{{exps}}-{{group}}', '{{ loop.index0 }}')"
                  title="{{ loop.index }}">{{ loop.index
                }}</span>
            {% endfor %}
        </div>
    </div>
    <script>
        showSlides("{{exps}}-{{group}}")
    </script>
    {% else %}
    <div style="width:25%; display: none; margin: 20px;" class="imageSpace">
    </div>
    {% endif %}

    {% endfor %}
</div>

{% endfor %}

<hr>

<h2>Plots</h2>


<div style="text-align: center;">
    {% for graph in graphs %}
    <div style="height: 40%; display: inline-block; ">
        {{ graph }}
    </div>
    {% endfor %}
</div>

<br>
<hr>


<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    $(document).ready(function () {

        $('a.go-back').on('click', function (e) {
            e.preventDefault();
            window.history.back();
        });

    });
</script>

</body>

</html>
